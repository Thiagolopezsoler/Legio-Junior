<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Números Primos</title>
  <style>
    body {
      background-color: black;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      font-family: Arial, sans-serif;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 20px;
    }

    .container {
      display: flex;
      justify-content: space-between;
      width: 100%;
    }

    .number {
      font-size: 750%;
      opacity: 0.75;
    }

    .center {
      font-size: 1500%;
    }
  </style>
</head>
<body>
  <h1>Números Primos</h1>
  <div class="container">
    <div id="prevNumber" class="number"></div>
    <div id="currentNumber" class="center"></div>
    <div id="nextNumber" class="number"></div>
  </div>

  <script>
    // Función para verificar si un número es primo
    function esPrimo(num) {
      if (num <= 1) return false;
      for (let i = 2; i <= Math.sqrt(num); i++) {
        if (num % i === 0) return false;
      }
      return true;
    }

    // Función para encontrar el siguiente primo
    function siguientePrimo(num) {
      do {
        num++;
      } while (!esPrimo(num));
      return num;
    }

    // Función para encontrar el primo anterior
    function anteriorPrimo(num) {
      do {
        num--;
      } while (num > 1 && !esPrimo(num));
      return num > 1 ? num : 2;
    }

    let numeroActual = 2;
    let numeroSiguiente = siguientePrimo(numeroActual);
    let numeroAnterior = null;
    let interval = null;

    const prevNumberEl = document.getElementById('prevNumber');
    const currentNumberEl = document.getElementById('currentNumber');
    const nextNumberEl = document.getElementById('nextNumber');

    // Mostrar el número actual y sus vecinos
    function actualizarNumeros() {
      prevNumberEl.textContent = numeroAnterior !== null ? numeroAnterior : '';
      currentNumberEl.textContent = numeroActual;
      nextNumberEl.textContent = numeroSiguiente;
    }

    // Inicialización
    actualizarNumeros();

    // Función para avanzar al siguiente primo
    function avanzarPrimo() {
      numeroAnterior = numeroActual;
      numeroActual = numeroSiguiente;
      numeroSiguiente = siguientePrimo(numeroActual);
      actualizarNumeros();
    }

    // Evento de mousedown (cuando se mantiene el click izquierdo)
    window.addEventListener('mousedown', function (e) {
      if (e.button === 0) { // Solo cuando es click izquierdo
        avanzarPrimo();  // Avanza una vez inmediatamente
        interval = setInterval(avanzarPrimo, 200);  // Luego sigue avanzando cada 200ms
      }
    });

    // Evento de mouseup o mouseleave (cuando se suelta el botón o se sale de la ventana)
    window.addEventListener('mouseup', function () {
      clearInterval(interval); // Detiene el avance cuando se suelta el click
    });

    window.addEventListener('mouseleave', function () {
      clearInterval(interval); // Detiene el avance si se sale de la ventana
    });

    // Evento de click derecho (anterior primo)
    window.addEventListener('contextmenu', function (e) {
      e.preventDefault();
      if (numeroActual > 2) {
        numeroSiguiente = numeroActual;
        numeroActual = numeroAnterior;
        numeroAnterior = anteriorPrimo(numeroActual);
        actualizarNumeros();
      }
    });
  </script>
</body>
</html>